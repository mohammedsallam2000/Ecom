<div class="mt-5" [formGroup]="checkoutForm">
    <div class="row">
        <div class="form-group col-12 mb-2" formGroupName="paymentForm">

            <div class="form-floating">
                <input formControlName="nameOnCard" type="text" class="form-control" placeholder="Name On Card"
             [class.is-invalid]="checkoutForm.get('paymentForm.nameOnCard').invalid && checkoutForm.get('paymentForm.nameOnCard').touched"
             [class.is-valid]="checkoutForm.get('paymentForm.nameOnCard').valid "
                >
                <!-- <ng-container *ngIf="cardErrors">
                    <span class="text-danger"> {{cardErrors}}</span>
                 </ng-container> -->
                <!-- [class.is-invalid]="checkoutForm.get('nameOnCard').invalid && checkoutForm.get('nameOnCard').touched"
                    [class.is-valid]="checkoutForm.get('nameOnCard').valid"
                    > -->
                <label for="floatingPassword">Name On Card</label>
               
                <small class="text-danger" *ngIf="checkoutForm.get('paymentForm.nameOnCard').invalid && checkoutForm.get('paymentForm.nameOnCard').touched">*Name On Card is required</small>

            </div>

        </div>
        
        <div class="form-group col-6 mt-3">
            <!-- [class.is-invalid]="cardErrors === null" -->
            <div #cardNumber class="form-control py-3" 
            ></div>
             <div *ngIf="cardErrors"><span class="text-danger"> *{{cardErrors}} !</span></div>
        </div>

        <div class="form-group col-3 mt-3">
            <!-- [class.is-invalid]="cardErrors === null" -->
            <div #cardExpiry class="form-control py-3" ></div>
        </div>

        <div class="form-group col-3 mt-3">
            <!-- [class.is-invalid]="cardErrors === null" -->
            <div #cardCvc class="form-control py-3" ></div>
        </div>
    </div>
</div>


<div class="float-none d-flex justify-content-between flex-column flex-lg-row my-3 mt-4">
    <button class="btn btn-dark" cdkStepperPrevious>
        <i class="fa fa-angle-left mr-2"> Back to Review</i>
    </button>
    <button routerLink='/checkout/success' routerLinkActive="router-link-active" (click)="submitOrder()"
      [disabled]="loading || checkoutForm.get('paymentForm').invalid || 
      !cardNumberValid || !cardExpiryValid || !cardCvcValid"  class="btn btn-primary">
        Submit Order
        <i *ngIf="loading" class="fa fa-spinner fa-spin" style="color: red;"></i>
    </button>
</div>